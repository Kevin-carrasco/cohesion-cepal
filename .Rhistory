theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf1
graf2 <- plot_stackfrq(select(data, c02_w01, c03_w01, c04_w01), geom.colors = "RdBu", geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf2
graf3<- plot_stackfrq(select(data, r12_03_w01, r12_04_w01, c37_01_w03), geom.colors = "RdBu", geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf3
graf4<- plot_stackfrq(select(data, c06_04_w01, c06_05_w01, c06_06_w01), geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf4
graf5<-plot_stackfrq(select(data, c32_01_w01,c32_02_w01), geom.colors = "RdBu", geom.size = 0.25) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf5
graf6<-plot_stackfrq(select(data, c18_09_w01,c18_10_w01), geom.colors = "RdBu", geom.size = 0.25) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf6
graf7 <- plot_stackfrq(select(data,c05_01_w01,
c05_02_w01,
c05_03_w01,
c05_04_w01,
c05_05_w01,
c05_06_w01,
c05_07_w01,
c05_08_w01), geom.size = 0.9) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf7
graf8 <- plot_stackfrq(select(data, c07_01_w01,
c07_02_w01,
c07_03_w01,
c07_04_w01,
c07_05_w01,
c07_06_w01,
c07_07_w01,
c07_08_w01), geom.size = 0.9) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf8
data$c02_w01 <- recode(data$c02_w01, "1=3; 2=1; 3=2")
data$c02_w02 <- recode(data$c02_w02, "1=3; 2=1; 3=2")
data$c02_w03 <- recode(data$c02_w03, "1=3; 2=1; 3=2")
data$c02_w04 <- recode(data$c02_w04, "1=3; 2=1; 3=2")
label(data$c02_w01) <- "Se puede confiar en la mayoria de las personas (2016)."
label(data$c02_w02) <- "Se puede confiar en la mayoria de las personas (2017)."
label(data$c02_w03) <- "Se puede confiar en la mayoria de las personas (2018)."
label(data$c02_w04) <- "Se puede confiar en la mayoria de las personas (2019)."
data$c03_w01 <- recode(data$c03_w01, "1=3; 2=1; 3=2")
data$c03_w02 <- recode(data$c03_w02, "1=3; 2=1; 3=2")
data$c03_w03 <- recode(data$c03_w03, "1=3; 2=1; 3=2")
data$c03_w04 <- recode(data$c03_w04, "1=3; 2=1; 3=2")
label(data$c03_w01) <- "La mayoria de las personas tratan de ayudar a las demas (2016)."
label(data$c03_w02) <- "La mayoria de las personas tratan de ayudar a las demas (2017)."
label(data$c03_w03) <- "La mayoria de las personas tratan de ayudar a las demas (2018)."
label(data$c03_w04) <- "La mayoria de las personas tratan de ayudar a las demas (2019)."
data$c04_w01 <- recode(data$c04_w01, "1=1; 2=3; 3=2")
data$c04_w02 <- recode(data$c04_w02, "1=1; 2=3; 3=2")
data$c04_w03 <- recode(data$c04_w03, "1=1; 2=3; 3=2")
data$c04_w04 <- recode(data$c04_w04, "1=1; 2=3; 3=2")
label(data$c04_w01) <- "La mayoria de las personas tratan de ser justas (2016)."
label(data$c04_w02) <- "La mayoria de las personas tratan de ser justas (2017)."
label(data$c04_w03) <- "La mayoria de las personas tratan de ser justas (2018)."
label(data$c04_w04) <- "La mayoria de las personas tratan de ser justas (2019)."
graf2 <- plot_stackfrq(select(data, c02_w01, c03_w01, c04_w01), geom.colors = "RdBu", geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf2
data <- get(load(url("https://dataverse.harvard.edu/api/access/datafile/4606527"))) #desde url oficial en dataverse
data <- data %>% car::recode(., "c(-888,-999)=NA") # recode missings de no respuesta a NA
data <- data %>% sjlabelled::remove_labels(labels = c('No Responde (no leer)','No Sabe (no leer)')) # elimina value labels de missings de no respuesta para no interferir en descriptivos posteriores
label(data$r15_w02) <- "Cantidad de amigos cercanos (2017)"
label(data$r15_w04) <- "Cantidad de amigos cercanos (2019)"
data$c02_w01 <- recode(data$c02_w01, "1=3; 2=1; 3=2")
data$c02_w02 <- recode(data$c02_w02, "1=3; 2=1; 3=2")
data$c02_w03 <- recode(data$c02_w03, "1=3; 2=1; 3=2")
data$c02_w04 <- recode(data$c02_w04, "1=3; 2=1; 3=2")
data$c02_w01<- factor(data$c02_w01, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c02_w02<- factor(data$c02_w02, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c02_w03<- factor(data$c02_w03, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c02_w04<- factor(data$c02_w04, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
label(data$c02_w01) <- "Se puede confiar en la mayoria de las personas (2016)."
label(data$c02_w02) <- "Se puede confiar en la mayoria de las personas (2017)."
label(data$c02_w03) <- "Se puede confiar en la mayoria de las personas (2018)."
label(data$c02_w04) <- "Se puede confiar en la mayoria de las personas (2019)."
data$c03_w01 <- recode(data$c03_w01, "1=3; 2=1; 3=2")
data$c03_w02 <- recode(data$c03_w02, "1=3; 2=1; 3=2")
data$c03_w03 <- recode(data$c03_w03, "1=3; 2=1; 3=2")
data$c03_w04 <- recode(data$c03_w04, "1=3; 2=1; 3=2")
data$c03_w01<- factor(data$c03_w01, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c03_w02<- factor(data$c03_w02, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c03_w03<- factor(data$c03_w03, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c03_w04<- factor(data$c03_w04, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
label(data$c03_w01) <- "La mayoria de las personas tratan de ayudar a las demas (2016)."
label(data$c03_w02) <- "La mayoria de las personas tratan de ayudar a las demas (2017)."
label(data$c03_w03) <- "La mayoria de las personas tratan de ayudar a las demas (2018)."
label(data$c03_w04) <- "La mayoria de las personas tratan de ayudar a las demas (2019)."
data$c04_w01 <- recode(data$c04_w01, "1=1; 2=3; 3=2")
data$c04_w02 <- recode(data$c04_w02, "1=1; 2=3; 3=2")
data$c04_w03 <- recode(data$c04_w03, "1=1; 2=3; 3=2")
data$c04_w04 <- recode(data$c04_w04, "1=1; 2=3; 3=2")
data$c04_w01<- factor(data$c04_w01, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c04_w02<- factor(data$c04_w02, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c04_w03<- factor(data$c04_w03, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
data$c04_w04<- factor(data$c04_w04, levels = c(1, 2, 3), labels = c("No", "Depende", "Si"))
label(data$c04_w01) <- "La mayoria de las personas tratan de ser justas (2016)."
label(data$c04_w02) <- "La mayoria de las personas tratan de ser justas (2017)."
label(data$c04_w03) <- "La mayoria de las personas tratan de ser justas (2018)."
label(data$c04_w04) <- "La mayoria de las personas tratan de ser justas (2019)."
label(data$r12_03_w01) <- "Chile pierde su identidad con la llegada de inmigrantes (2016)."
label(data$r12_03_w02) <- "Chile pierde su identidad con la llegada de inmigrantes (2017)."
label(data$r12_03_w03) <- "Chile pierde su identidad con la llegada de inmigrantes (2018)."
label(data$r12_03_w04) <- "Chile pierde su identidad con la llegada de inmigrantes (2019)."
label(data$r12_04_w01) <- "Con la llegada de inmigrantes aumenta el desempleo (2016)."
label(data$r12_04_w01) <- "Con la llegada de inmigrantes aumenta el desempleo (2017)."
label(data$r12_04_w01) <- "Con la llegada de inmigrantes aumenta el desempleo (2018)."
label(data$r12_04_w01) <- "Con la llegada de inmigrantes aumenta el desempleo (2019)."
label(data$c37_01_w03) <- "Grado de acuerdo con adopcion homoparental (2018)."
label(data$c37_01_w04) <- "Grado de acuerdo con adopcion homoparental (2019)."
label(data$c06_04_w01) <- "Grado de confianza con personas homosexuales (2016)."
label(data$c06_04_w03) <- "Grado de confianza con personas homosexuales (2018)."
label(data$c06_05_w01) <- "Grado de confianza con personas mapuche (2016)."
label(data$c06_05_w03) <- "Grado de confianza con personas mapuche (2018)."
label(data$c06_06_w01) <- "Grado de confianza con personas inmigrantes (2016)."
label(data$c06_06_w03) <- "Grado de confianza con personas inmigrantes (2018)."
label(data$c32_01_w01) <- "Me siento orgulloso de ser chileno (2016)."
label(data$c32_01_w02) <- "Me siento orgulloso de ser chileno (2017)."
label(data$c32_01_w03) <- "Me siento orgulloso de ser chileno (2018)."
label(data$c32_01_w04) <- "Me siento orgulloso de ser chileno (2019)."
label(data$c32_02_w01) <- "Me identifico con Chile (2016)."
label(data$c32_02_w02) <- "Me identifico con Chile (2017)."
label(data$c32_02_w03) <- "Me identifico con Chile (2018)."
label(data$c32_02_w04) <- "Me identifico con Chile (2019)."
label(data$c18_09_w01) <- "En Chile las personas son recompensadas por sus esfuerzos (2016)."
label(data$c18_09_w02) <- "En Chile las personas son recompensadas por sus esfuerzos (2017)."
label(data$c18_09_w03) <- "En Chile las personas son recompensadas por sus esfuerzos (2018)."
label(data$c18_09_w04) <- "En Chile las personas son recompensadas por sus esfuerzos (2019)."
label(data$c18_10_w01) <- "En Chile las personas son recompensadas por su inteligencia (2016)."
label(data$c18_10_w02) <- "En Chile las personas son recompensadas por su inteligencia (2017)."
label(data$c18_10_w03) <- "En Chile las personas son recompensadas por su inteligencia (2018)."
label(data$c18_10_w04) <- "En Chile las personas son recompensadas por su inteligencia (2019)."
label(data$c05_01_w01) <- "Confianza en el gobierno (2016)."
label(data$c05_01_w02) <- "Confianza en el gobierno (2017)."
label(data$c05_01_w03) <- "Confianza en el gobierno (2018)."
label(data$c05_01_w04) <- "Confianza en el gobierno (2019)."
label(data$c05_02_w01) <- "Confianza en los partidos politicos (2016)."
label(data$c05_02_w02) <- "Confianza en los partidos politicos (2017)."
label(data$c05_02_w03) <- "Confianza en los partidos politicos (2018)."
label(data$c05_02_w04) <- "Confianza en los partidos politicos (2019)."
label(data$c05_03_w01) <- "Confianza en Carabineros (2016)."
label(data$c05_03_w02) <- "Confianza en Carabineros (2017)."
label(data$c05_03_w03) <- "Confianza en Carabineros (2018)."
label(data$c05_03_w04) <- "Confianza en Carabineros (2019)."
label(data$c05_04_w01) <- "Confianza en los sindicatos (2016)."
label(data$c05_04_w02) <- "Confianza en los sindicatos (2017)."
label(data$c05_04_w03) <- "Confianza en los sindicatos (2018)."
label(data$c05_04_w04) <- "Confianza en los sindicatos (2019)."
label(data$c05_05_w01) <- "Confianza en el poder judicial (2016)."
label(data$c05_05_w02) <- "Confianza en el poder judicial (2017)."
label(data$c05_05_w03) <- "Confianza en el poder judicial (2018)."
label(data$c05_05_w04) <- "Confianza en el poder judicial (2019)."
label(data$c05_06_w01) <- "Confianza en las empresas privadas (2016)."
label(data$c05_06_w02) <- "Confianza en las empresas privadas (2017)."
label(data$c05_06_w03) <- "Confianza en las empresas privadas (2018)."
label(data$c05_06_w04) <- "Confianza en las empresas privadas (2019)."
label(data$c05_07_w01) <- "Confianza en el congreso nacional (2016)."
label(data$c05_07_w02) <- "Confianza en el congreso nacional (2017)."
label(data$c05_07_w03) <- "Confianza en el congreso nacional (2018)."
label(data$c05_07_w04) <- "Confianza en el congreso nacional (2019)."
label(data$c05_08_w01) <- "Confianza en el presidente/a de la republica (2016)."
label(data$c05_08_w02) <- "Confianza en el presidente/a de la republica (2017)."
label(data$c05_08_w03) <- "Confianza en el presidente/a de la republica (2018)."
label(data$c05_08_w04) <- "Confianza en el presidente/a de la republica (2019)."
label(data$c07_01_w01) <- "Ha visitado la casa de algun vecino (2016)."
label(data$c07_01_w02) <- "Ha visitado la casa de algun vecino (2017)."
label(data$c07_01_w03) <- "Ha visitado la casa de algun vecino (2018)."
label(data$c07_01_w04) <- "Ha visitado la casa de algun vecino (2019)."
label(data$c07_02_w01) <- "Ha asistido a alguna reunion donde se traten temas de interes publico o comunitario (2016)."
label(data$c07_02_w02) <- "Ha asistido a alguna reunion donde se traten temas de interes publico o comunitario (2017)."
label(data$c07_02_w03) <- "Ha asistido a alguna reunion donde se traten temas de interes publico o comunitario (2018)."
label(data$c07_02_w04) <- "Ha asistido a alguna reunion donde se traten temas de interes publico o comunitario (2019)."
label(data$c07_03_w01) <- "Han venido amigos a visitarlo a su casa (2016)."
label(data$c07_03_w02) <- "Han venido amigos a visitarlo a su casa (2017)."
label(data$c07_03_w03) <- "Han venido amigos a visitarlo a su casa (2018)."
label(data$c07_03_w04) <- "Han venido amigos a visitarlo a su casa (2019)."
label(data$c07_04_w01) <- "Ha hecho voluntariado (2016)."
label(data$c07_04_w02) <- "Ha hecho voluntariado (2017)."
label(data$c07_04_w03) <- "Ha hecho voluntariado (2018)."
label(data$c07_04_w04) <- "Ha hecho voluntariado (2019)."
label(data$c07_05_w01) <- "Ha donado dinero a una obra social o de caridad (2016)."
label(data$c07_05_w02) <- "Ha donado dinero a una obra social o de caridad (2017)."
label(data$c07_05_w03) <- "Ha donado dinero a una obra social o de caridad (2018)."
label(data$c07_05_w04) <- "Ha donado dinero a una obra social o de caridad (2019)."
label(data$c07_06_w01) <- "Ha prestado una suma de dinero de $10.000.- o mas (2016)."
label(data$c07_06_w02) <- "Ha prestado una suma de dinero de $10.000.- o mas (2017)."
label(data$c07_06_w03) <- "Ha prestado una suma de dinero de $10.000.- o mas (2018)."
label(data$c07_06_w04) <- "Ha prestado una suma de dinero de $10.000.- o mas (2019)."
label(data$c07_07_w01) <- "Ha conversado con una persona en problemas o deprimida (2016)."
label(data$c07_07_w02) <- "Ha conversado con una persona en problemas o deprimida (2017)."
label(data$c07_07_w03) <- "Ha conversado con una persona en problemas o deprimida (2018)."
label(data$c07_07_w04) <- "Ha conversado con una persona en problemas o deprimida (2019)."
label(data$c07_08_w01) <- "Ha ayudado a alguien a conseguir trabajo (2016)."
label(data$c07_08_w02) <- "Ha ayudado a alguien a conseguir trabajo (2017)."
label(data$c07_08_w03) <- "Ha ayudado a alguien a conseguir trabajo (2018)."
label(data$c07_08_w04) <- "Ha ayudado a alguien a conseguir trabajo (2019)."
label(data$c08_01_w01) <- "Firmado una carta o peticion apoyando una causa (2016)."
label(data$c08_01_w03) <- "Firmado una carta o peticion apoyando una causa (2018)."
label(data$c08_02_w01) <- "Asistido a una marcha o manifestacion pacifica (2016)."
label(data$c08_02_w03) <- "Asistido a una marcha o manifestacion pacifica (2018)."
label(data$c08_03_w01) <- "Participado en una huelga (2016)."
label(data$c08_03_w03) <- "Participado en una huelga (2018)."
label(data$c08_04_w01) <- "Usado las redes sociales para expresar su opinion en temas publicos (2016)."
label(data$c08_04_w03) <- "Usado las redes sociales para expresar su opinion en temas publicos (2018)."
label(data$c12_01_w01) <- "Junta de vecinos u otra organizacion (2016)."
label(data$c12_01_w03) <- "Junta de vecinos u otra organizacion (2018)."
label(data$c12_02_w01) <- "Organizacion religiosa o Iglesia (2016)."
label(data$c12_02_w03) <- "Organizacion religiosa o Iglesia (2018)."
label(data$c12_03_w01) <- "Partido o movimiento politico (2016)."
label(data$c12_03_w03) <- "Partido o movimiento politico (2018)."
label(data$c12_04_w01) <- "Sindicato (2016)."
label(data$c12_04_w03) <- "Sindicato (2018)."
label(data$c12_05_w01) <- "Asociacion profesional o gremial (2016)."
label(data$c12_05_w03) <- "Asociacion profesional o gremial (2018)."
label(data$c12_06_w01) <- "Organizacion deportiva (2016)."
label(data$c12_06_w03) <- "Organizacion deportiva (2018)."
label(data$c12_07_w01) <- "Organizacion ecologica o medioambiental (2016)."
label(data$c12_07_w03) <- "Organizacion ecologica o medioambiental (2018)."
label(data$c12_08_w01) <- "Asociaciones o centros de estudiantes (2016)."
label(data$c12_08_w03) <- "Asociaciones o centros de estudiantes (2018)."
label(data$c11_w01) <- "Voto en elecciones (2016)."
label(data$c11_w03) <- "Voto en elecciones (2018)."
label(data$t01_w01) <- "Confianza en vecinos (2016)."
label(data$t01_w02) <- "Confianza en vecinos (2017)."
label(data$t01_w03) <- "Confianza en vecinos (2018)."
label(data$t01_w04) <- "Confianza en vecinos (2019)."
label(data$t02_01_w01) <- "Este barrio es ideal para mi (2016)."
label(data$t02_01_w02) <- "Este barrio es ideal para mi (2017)."
label(data$t02_01_w03) <- "Este barrio es ideal para mi (2018)."
label(data$t02_01_w04) <- "Este barrio es ideal para mi (2019)."
label(data$t02_02_w01) <- "Me siento integrado/a en este barrio (2016)."
label(data$t02_02_w02) <- "Me siento integrado/a en este barrio (2017)."
label(data$t02_02_w03) <- "Me siento integrado/a en este barrio (2018)."
label(data$t02_02_w04) <- "Me siento integrado/a en este barrio (2019)."
label(data$t02_03_w01) <- "Me identifico con la gente de este barrio (2016)."
label(data$t02_03_w02) <- "Me identifico con la gente de este barrio (2017)."
label(data$t02_03_w03) <- "Me identifico con la gente de este barrio (2018)."
label(data$t02_03_w04) <- "Me identifico con la gente de este barrio (2019)."
label(data$t02_04_w01) <- "Este barrio es parte de mi (2016)."
label(data$t02_04_w02) <- "Este barrio es parte de mi (2017)."
label(data$t02_04_w03) <- "Este barrio es parte de mi (2018)."
label(data$t02_04_w04) <- "Este barrio es parte de mi (2019)."
label(data$t03_01_w01) <- "En este barrio es facil hacer amigos (2016)."
label(data$t03_01_w02) <- "En este barrio es facil hacer amigos (2017)."
label(data$t03_01_w03) <- "En este barrio es facil hacer amigos (2018)."
label(data$t03_01_w04) <- "En este barrio es facil hacer amigos (2019)."
label(data$t03_02_w01) <- "La gente en este barrio es sociable (2016)."
label(data$t03_02_w02) <- "La gente en este barrio es sociable (2017)."
label(data$t03_02_w03) <- "La gente en este barrio es sociable (2018)."
label(data$t03_02_w04) <- "La gente en este barrio es sociable (2019)."
label(data$t03_03_w01) <- "La gente en este barrio es cordial (2016)."
label(data$t03_04_w01) <- "La gente en este barrio es colaboradora (2016)."
label(data$t06_01_w01) <- "Seguridad del barrio (2016)."
label(data$t06_02_w01) <- "Conectividad (2016)."
label(data$t06_03_w01) <- "Areas verdes y de recreacion disponibles (2016)."
label(data$t06_04_w01) <- "Limpieza y belleza del barrio (2016)."
label(data$t06_05_w01) <- "Proximidad al lugar de actividad principal (2016)."
label(data$t06_06_w01) <- "Proximidad a colegios de buena calidad (2016)."
label(data$t06_07_w01) <- "Proximidad a areas de comercio (2016)."
label(data$t06_08_w01) <- "Proximidad con familiares y/o amigos cercanos (2016)."
# Filtrar base por casos participantes en cuatro olas
data <- data %>% dplyr::filter(tipo_atricion==1 & tipo_caso !=2)
graf1<-  plot_stackfrq(data$r15_w02, geom.size = 0.14) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf1
graf2 <- plot_stackfrq(select(data, c02_w01, c03_w01, c04_w01), geom.colors = "RdBu", geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf2
graf3<- plot_stackfrq(select(data, r12_03_w01, r12_04_w01, c37_01_w03), geom.colors = "RdBu", geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf3
graf4<- plot_stackfrq(select(data, c06_04_w01, c06_05_w01, c06_06_w01), geom.size = 0.33) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf4
# Análisis Factorial Exploratorio
diversidad_fa<-
data %>%
dplyr::select(r12_03_w01, r12_04_w01, c37_01_w03, c06_04_w01, c06_05_w01, c06_06_w01)
sjmisc::frq(data$r12_03_w01)
sjmisc::frq(data$r12_04_w01)
# Análisis Factorial Exploratorio
diversidad_fa<-
data %>%
dplyr::select(r12_03_w01, r12_04_w01, c37_01_w03, c06_04_w01, c06_05_w01, c06_06_w01)
sjmisc::frq(data$r12_03_w01)
sjmisc::frq(data$r12_04_w01)
diversidad_fa <- diversidad_fa %>%
mutate(r12_03_w01_rev = 6 - r12_03_w01,
r12_04_w01_rev = 6 - r12_04_w01)
diversidad_fa <- diversidad_fa %>% select(-r12_03_w01,-r12_04_w01)
psych::fa.parallel(diversidad_fa, fa="fa")
psych::scree(diversidad_fa)
fac_ml <- psych::fa(r = diversidad_fa, nfactors = 3, fm= "ml", rotate = "varimax" )
fac_ml$loadings
source("processing/fa_table.R")
div_fa <-fa_table(fac_ml, .32)
knitr::kable(div_fa, "html") %>%
kable_styling(bootstrap_options = c("striped", "hover")) %>%
cat(., file = "bookdown-files/output/tables/div_fa.html")
graf5<-plot_stackfrq(select(data, c32_01_w01,c32_02_w01), geom.colors = "RdBu", geom.size = 0.25) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf5
graf6<-plot_stackfrq(select(data, c18_09_w01,c18_10_w01), geom.colors = "RdBu", geom.size = 0.25) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf6
graf7 <- plot_stackfrq(select(data,c05_01_w01,
c05_02_w01,
c05_03_w01,
c05_04_w01,
c05_05_w01,
c05_06_w01,
c05_07_w01,
c05_08_w01), geom.size = 0.9) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf7
graf8 <- plot_stackfrq(select(data, c07_01_w01,
c07_02_w01,
c07_03_w01,
c07_04_w01,
c07_05_w01,
c07_06_w01,
c07_07_w01,
c07_08_w01), geom.size = 0.9) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf8
graf9 <- plot_stackfrq(select(data, c08_01_w01,
c08_02_w01,
c08_03_w01,
c08_04_w01), geom.size = 0.45) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf9
graf10 <- plot_stackfrq(select(data, c12_01_w01,
c12_02_w01,
c12_03_w01,
c12_04_w01,
c12_05_w01,
c12_06_w01,
c12_07_w01,
c12_08_w01), geom.size = 0.9) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf10
graf11 <- plot_stackfrq(select(data, c11_w01, c11_w03), geom.size = 0.25) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf11
graf12 <- plot_stackfrq(data$t01_w01, geom.size = 0.14) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf12
graf13<-plot_stackfrq(select(data, t02_01_w01, t02_02_w01, t02_03_w01, t02_04_w01), geom.colors = "RdBu", geom.size = 0.45) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf13
graf14<-plot_stackfrq(select(data, t03_01_w01, t03_02_w01, t03_03_w01, t03_04_w01), geom.colors = "RdBu", geom.size = 0.45) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf14
graf15<-plot_stackfrq(select(data, t06_01_w01, t06_02_w01, t06_03_w01, t06_04_w01, t06_05_w01, t06_06_w01, t06_07_w01, t06_08_w01), geom.colors = "RdBu", geom.size = 0.9) +
theme(axis.text.y = element_text(colour = "black", size = 10),
axis.text.x = element_text(colour = "black", size = 10),
legend.text = element_text(size = 10),
legend.position="bottom")
graf15
conf_interpersonal_cor<-
data %>%
dplyr::select(c02_w01, c03_w01, c04_w01) %>%
lavaan::lavCor(., ordered=names(.))
diag(conf_interpersonal_cor) = NA
rownames(conf_interpersonal_cor) <- c("A. Se puede confiar en la mayoria de las personas",
"B. La mayoria de las personas trata de ayudar a los demas",
"C. La mayoria de las personas trata de ser justa")
colnames(conf_interpersonal_cor) <-c("(A)", "(B)","(C)")
corrplot::corrplot(conf_interpersonal_cor,
method = "color",
addCoef.col = "#000390",
type = "upper",
tl.col = "black",
col=colorRampPalette(c("white","#0068DC"))(12),
bg = "white",
na.label = "-",
lower.col = "black")
ltm::cronbach.alpha(data %>%
dplyr::select(c02_w01, c03_w01, c04_w01), na.rm=TRUE)
ltm::cronbach.alpha(data %>%
dplyr::select(c02_w01, c03_w01), na.rm=TRUE)
knitr::opts_chunk$set(echo = TRUE, warning=F, message=F)
# Cargar base elsoc longitudinal (2016-2019) creada en "preparacion"
load("input/data/data.RData")
# Filtrar base por casos participantes en cuatro olas
data <- data %>% dplyr::filter(tipo_atricion==1 & tipo_caso !=2)
# Cargar paquetes
pacman::p_load(dplyr, car, summarytools, webshot, knitr, kableExtra, corrplot, ggplot2, sjPlot, sjmisc, semPlot, semTools)
# Filtrar base por casos participantes en cuatro olas
data <- data %>% dplyr::filter(tipo_atricion==1 & tipo_caso !=2)
# Análisis Factorial Exploratorio
diversidad_fa<-
data %>%
dplyr::select(amenaza_simbolica = r12_03_w01,
amenaza_material = r12_04_w01,
adopcion_homoparental = c37_01_w03,
confianza_homosexuales = c06_04_w01,
confianza_mapuche = c06_05_w01,
confianza_inmigrantes = c06_06_w01)
View(diversidad_fa)
# Análisis Factorial Exploratorio
diversidad_fa<-
data %>%
dplyr::select(amenaza_simbolica = r12_03_w01,
amenaza_material = r12_04_w01,
adopcion_homoparental = c37_01_w03,
confianza_homosexuales = c06_04_w01,
confianza_mapuche = c06_05_w01,
confianza_inmigrantes = c06_06_w01)
diversidad_fa <- diversidad_fa %>%
mutate(amenaza_simbolica_rev = 6 - amenaza_simbolica,
amenaza_material_rev = 6 - amenaza_material)
diversidad_fa <- diversidad_fa %>% select(-amenaza_simbolica,-amenaza_material)
psych::fa.parallel(diversidad_fa, fa="fa")
psych::scree(diversidad_fa)
fac_ml <- psych::fa(r = diversidad_fa, nfactors = 3, fm= "ml", rotate = "varimax" )
fac_ml$loadings
source("processing/fa_table.R")
div_fa <-fa_table(fac_ml, .32)
knitr::kable(div_fa, "html") %>%
kable_styling(bootstrap_options = c("striped", "hover")) %>%
cat(., file = "bookdown-files/output/tables/div_fa.html")
knitr::opts_chunk$set(echo = T, warning = F, message = F)
data <- data %>%
mutate(c02_rev_w01 = car::recode(data$c02_w01, "1=3; 2=1; 3=2"),
c02_rev_w02 = car::recode(data$c02_w02, "1=3; 2=1; 3=2"),
c02_rev_w03 = car::recode(data$c02_w03, "1=3; 2=1; 3=2"),
c02_rev_w04 = car::recode(data$c02_w04, "1=3; 2=1; 3=2"))
pacman::p_load(dplyr, car, summarytools, webshot, sjmisc)
data <- data %>%
mutate(c02_rev_w01 = car::recode(data$c02_w01, "1=3; 2=1; 3=2"),
c02_rev_w02 = car::recode(data$c02_w02, "1=3; 2=1; 3=2"),
c02_rev_w03 = car::recode(data$c02_w03, "1=3; 2=1; 3=2"),
c02_rev_w04 = car::recode(data$c02_w04, "1=3; 2=1; 3=2"))
View(data)
knitr::opts_chunk$set(echo = TRUE, warning=F, message=F)
ltm::cronbach.alpha(data %>%
dplyr::select(c02_rec_w01, c03_rec_w01, c04_rec_w01), na.rm=TRUE)
