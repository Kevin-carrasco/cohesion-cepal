---
title: "analisis"
author: "Kevin Carrasco"
date: "10-07-2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning=F, message=F)
```

# Cargar paquetes
```{r}
pacman::p_load(dplyr, car, summarytools, webshot)
```

# Cargar base elsoc longitudinal (2016-2019)
```{r}
load("../input/data/data.RData")
```

# Descriptivos por subdimension

## Confianza en instituciones
```{r}
view(dfSummary(select(data, c05_01_w01, c05_02_w01, c05_03_w01, c05_04_w01, c05_05_w01, c05_06_w01, c05_07_w01, c05_08_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 1.0,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table1.html")
webshot(url ="../output/tables/table1.html" ,file ="../output/tables/table1.png")
```

## Satisfaccion con la democracia
```{r}
view(dfSummary(select(data, c01_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table2.html")
webshot(url ="../output/tables/table2.html" ,file ="../output/tables/table2.png")
```

## Participacion ciudadana
```{r}
view(dfSummary(select(data, c08_01_w01, c08_02_w01, c08_03_w01, c08_04_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table3.html")
webshot(url ="../output/tables/table3.html" ,file ="../output/tables/table3.png")
```

## Interes politico
```{r}
view(dfSummary(select(data, c13_w01, c14_01_w01, c14_02_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table4.html")
webshot(url ="../output/tables/table4.html" ,file ="../output/tables/table4.png")
```

## Justicia distributiva y meritocracia
```{r}
view(dfSummary(select(data, c18_09_w01, c18_10_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table5.html")
webshot(url ="../output/tables/table5.html" ,file ="../output/tables/table5.png")
```

## Surgir en la vida
```{r}
view(dfSummary(select(data, d05_01_w01, d05_02_w01, d05_03_w01, d05_04_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table6.html")
webshot(url ="../output/tables/table6.html" ,file ="../output/tables/table6.png")
```

## Identificacion y orgullo por el pais
```{r}
view(dfSummary(select(data, c32_01_w01, c32_02_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table7.html")
webshot(url ="../output/tables/table7.html" ,file ="../output/tables/table7.png")
```

## Confianza en vecinos
```{r}
view(dfSummary(select(data, t01_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table8.html")
webshot(url ="../output/tables/table8.html" ,file ="../output/tables/table8.png")
```

## Cohesion barrial
```{r}
view(dfSummary(select(data, t02_01_w01, t02_02_w01, t02_03_w01, t02_04_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table9.html")
webshot(url ="../output/tables/table9.html" ,file ="../output/tables/table9.png")
```

## Sociabilidad barrial
```{r}
view(dfSummary(select(data, t03_01_w01, t03_02_w01, t03_03_w01, t03_04_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table10.html")
webshot(url ="../output/tables/table10.html" ,file ="../output/tables/table10.png")
```

## Satisfaccion residencial
```{r}
view(dfSummary(select(data, t06_01_w01, t06_02_w01, t06_03_w01, t06_04_w01, t06_05_w01, t06_06_w01, t06_07_w01, t06_08_w01, t07_01_w01, t07_02_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table11.html")
webshot(url ="../output/tables/table11.html" ,file ="../output/tables/table11.png")
```

## Confianza interpersonal
```{r}
view(dfSummary(select(data, c02_w01, c03_w01, c04_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table12.html")
webshot(url ="../output/tables/table12.html" ,file ="../output/tables/table12.png")
```

## Comportamiento prosocial
```{r}
view(dfSummary(select(data, c07_01_w01, c07_02_w01, c07_03_w01, c07_04_w01, c07_05_w01, c07_06_w01, c07_07_w01, c07_08_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table13.html")
webshot(url ="../output/tables/table13.html" ,file ="../output/tables/table13.png")
```

# Descriptivos subdimensiones CEPAL no consideradas en informe COES

## Participacion en organizaciones
```{r}
view(dfSummary(select(data, c12_01_w01, c12_02_w01, c12_03_w01, c12_04_w01, c12_05_w01, c12_06_w01, c12_07_w01, c12_08_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table14.html")
webshot(url ="../output/tables/table14.html" ,file ="../output/tables/table14.png")
```

## Reconocimiento y respeto de la diversidad
```{r}
view(dfSummary(select(data, c37_01_w03, g01_05_w04),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table15.html")
webshot(url ="../output/tables/table15.html" ,file ="../output/tables/table15.png")
```

## Voto en elecciones 2013 y 2017
```{r}
view(dfSummary(select(data, c11_w01, c11_w03),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table16.html")
webshot(url ="../output/tables/table16.html" ,file ="../output/tables/table16.png")
```

# Descriptivos subdimensiones Informe clases medias no consideradas en informe COES
## Percepcion trato justo
```{r}
view(dfSummary(select(data, c35_01_w01, c35_02_w01, c35_03_w01, c35_04_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table17.html")
webshot(url ="../output/tables/table17.html" ,file ="../output/tables/table17.png")
```

## Actitudes hacia la diversidad
```{r}
view(dfSummary(select(data, r12_06_w01, r12_07_w01, c37_01_w03, c06_04_w01, c06_05_w01, c06_06_w01),
               plain.ascii = FALSE,
               style = "grid",
               #tmp.img.dir = "/tmp",
               graph.magnif = 0.9,
               headings = F,  # encabezado
               varnumbers = F, # num variable
               labels.col = T, # etiquetas
               na.col = T,    # missing
               graph.col = T, # plot
               valid.col = T, # n valido
               # col.widths = c(5,5,10,10,10,10)
               ), file = "../output/tables/table18.html")
webshot(url ="../output/tables/table18.html" ,file ="../output/tables/table18.png")
```